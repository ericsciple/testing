name: CI
on:
  push:
    branches:
      - master
  pull_request:
    branches:
      - master
jobs:
  job1:
    runs-on: ubuntu-latest
    steps:
      - run: |
          printenv|sort
      - run: |
          cat $GITHUB_EVENT_PATH
      - shell: 'node {0}'
        run: |
          var fs = require('fs')
          var p = process.env.GITHUB_EVENT_PATH
          console.log('Reading ' + p)
          var content = fs.readFileSync(p).toString()
          var payload = JSON.parse(content)
          payload.after = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa'
          fs.writeFileSync(p, JSON.stringify(payload, undefined, '  '))
          content = fs.readFileSync(p).toString()
          console.log('Modified content: ' + content)
      - run: |
          cat $GITHUB_EVENT_PATH
      - uses: actions/checkout@users/ericsciple/m262commit
        
        

      

        
#      - shell: 'node {0}'
 #       env:
  #        GITHUB_TOKEN: ${{ github.token }}
   #     run: |
    #      console.log(process.env.GITHUB_TOKEN.substr(0, 10))
     #     console.log(process.env.GITHUB_TOKEN.substr(10))
      #- shell: 'node {0}'
       # run: |
        #  var minutes = 10
         # setTimeout(function(){ console.log('done') }, minutes * 60 * 1000)

#      - run: |
 #         printenv|sort
  #    - name: Dump GitHub context
   #     env:
    #      GITHUB_CONTEXT: ${{ toJson(github) }}
     #   run: echo "$GITHUB_CONTEXT"
      #- uses: actions/checkout@v2
#      - run: |
 #         npm install @actions/github .
  #    - shell: node {0}
   #     run: |
    #      var gh = require('@actions/github')
#      - run: |
 #         set -x
  #        rm -rf "$RUNNER_TOOL_CACHE" || :
   #       mkdir -p "$RUNNER_TOOL_CACHE"
    #  - uses: actions/setup-node@users/ericsciple/m262ghes_403
     #   with:
      #    node-version: 12
#      - run: |
 #         printenv|sort
#      - shell: node "{0}"
 #       run: |
  #        console.log('hello')
   #       console.log('world')
